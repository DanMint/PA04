<h1> Transactions for <%= user.username %> </h1>
<div class="container">
  <div class="row">
    <div class="col">
      
      <div class="btn-group" role="group" aria-label="Sorting and grouping options">
        <a class="btn btn-primary" href="/transact/byCategory">group by Category</a>
        <a class="btn btn-primary" href="/transact?sortBy=description">sort by Description</a>
        <a class="btn btn-primary" href="/transact?sortBy=amount">Sort by Amount</a>
        <a class="btn btn-primary" href="/transact?sortBy=category">Sort by Category</a>
        <a class="btn btn-primary" href="/transact?sortBy=date">Sort by Date</a>
      </div>
      <br><br>
      <table class="table table-bordered table-striped">
        <thead>
          <tr>
            <th>Description</th>
            <th>Amount</th>
            <th>Category</th>
            <th>Date</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% items.forEach(item => { %>
            <tr>
              <td><%= item.description %></td>
              <td><%= item.amount %></td>
              <td><%= item.category %></td>
              <td><%= item.date %></td>
              <td>
                <div class="btn-group" role="group" aria-label="Transaction actions">
                  <a href="/transact/delete/<%=item._id %>" class="btn btn-danger">
                    <i class="bi bi-trash"></i>
                  </a>
                  <a href="/transact/edit/<%=item._id %>" class="btn btn-warning">
                    <i class="bi bi-pencil-square"></i>
                  </a>
                </div>
              </td>
            </tr>
          <% }) %>
        </tbody>
      </table>
      <br>
      <h1> Add a new transaction </h1>
      <form method="post" action="transact">
        <div class="form-group">
          <label for="description">Description:</label>
          <input type="text" class="form-control" id="description" name="description" required>
        </div>
        <div class="form-group">
          <label for="amount">Amount:</label>
          <input type="number" class="form-control" id="amount" name="amount" step="0.01" required>
        </div>
        <div class="form-group">
          <label for="category">Category:</label>
          <input type="text" class="form-control" id="category" name="category" required>
        </div>
        <div class="form-group">
          <label for="date">Date:</label>
          <input type="date" class="form-control" id="date" name="date" required>
        </div>
        <button type="submit" class="btn btn-primary">Add Transaction</button>
      </form>
    </div>
  </div>
</div>